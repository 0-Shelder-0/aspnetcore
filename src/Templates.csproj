<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>netstandard2.0</TargetFramework>
  </PropertyGroup>

  <ItemGroup>
    <Compile Remove="**/*" />
  </ItemGroup>

  <ItemGroup>
    <TemplatePack Include="Microsoft.DotNet.Web.ItemTemplates" />
    <TemplatePack Include="Microsoft.DotNet.Web.ProjectTemplates.1.x" />
    <TemplatePack Include="Microsoft.DotNet.Web.ProjectTemplates.2.0" />
  </ItemGroup>

  <Target Name="BuildTemplatePackages" BeforeTargets="Build" Outputs="%(TemplatePack.Identity)">
    <Message Importance="high" Text="Building %(TemplatePack.Identity)..." />
    <MSBuild Targets="Restore;Pack" Projects="%(TemplatePack.FullPath)\build.csproj" Properties="NoWarn=2008" />
    <RemoveDir Directories="..\artifacts\scratch;..\artifacts\templates\netstandard1.0" />
  </Target>

</Project>
