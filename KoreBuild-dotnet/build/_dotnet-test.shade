use import="Environment"

default NO_PARALLEL_TEST_PROJECTS='${E("NO_PARALLEL_TEST_PROJECTS")}'

@{/*

dotnet-test
    Run unit tests in your project.

projectFile=''
    Required. Path to the test project.json to execute
    
framework=''
    Required. The TFM to run tests for

configuration=''
    Optional. The configuration to build in. Defaults to 'Debug'.
*/}

default configuration = 'Debug'

@{
    var projectFolder = Path.GetDirectoryName(projectFile);
    var testArgs = "--configuration " + configuration + " --framework " + framework;
    Dotnet("test " + testArgs, projectFolder);
}

